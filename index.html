<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Yu-Gi-Oh! LP Counter</title>
<style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: radial-gradient(ellipse at center, #001d3d 0%, #000814 100%);
      color: #00eaff;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
    }
    .container {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      width: 90%;
      max-width: 1200px;
      margin-top: 30px;
    }
    .duelist {
      width: 45%;
      min-width: 300px;
      background: #003566;
      border: 3px solid #00eaff;
      border-radius: 20px;
      padding: 20px;
      text-align: center;
      box-shadow: 0 0 20px #00eaff;
      margin-bottom: 20px;
    }
    .duelist h2 {
      margin: 10px 0;
      font-size: 24px;
    }
    .lp {
      font-size: 64px;
      margin: 20px 0;
      transition: color 0.3s ease;
    }
    .lp.animate {
      animation: bounce 0.3s ease;
    }
    @keyframes bounce {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.3); }
    }
    .controls input[type=number] {
      font-size: 20px;
      width: 100px;
      text-align: center;
      margin: 5px;
      padding: 6px 10px;
      border-radius: 8px;
      border: 2px solid #00eaff;
      background: #000814;
      color: #00eaff;
    }
    .controls button {
      font-size: 18px;
      padding: 8px 16px;
      margin: 5px;
      border: none;
      border-radius: 10px;
      background: #00eaff;
      color: #001d3d;
      cursor: pointer;
    }
    .controls button:hover {
      background-color: #00b8d4;
    }
    .center-panel {
      text-align: center;
      margin: 20px;
    }
    .timer-display {
      font-size: 32px;
      margin: 10px 0;
    }
    .actions button {
      font-size: 18px;
      margin: 10px;
      padding: 10px 20px;
      border: none;
      border-radius: 10px;
      background: #00eaff;
      color: #001d3d;
      cursor: pointer;
    }
    .actions button:hover {
      background-color: #00b8d4;
    }
    .bottom-icons {
      display: flex;
      justify-content: space-around;
      width: 100%;
      max-width: 600px;
      margin-top: auto;
      margin-bottom: 20px;
    }
    .icon {
      display: flex;
      flex-direction: column;
      align-items: center;
      font-size: 14px;
      cursor: pointer;
      color: #00eaff;
    }
    .icon img {
      width: 40px;
      height: 40px;
      margin-bottom: 5px;
      filter: brightness(1);
      transition: filter 0.3s ease;
    }
    .icon:hover img {
      filter: brightness(1.5);
    }
    .tools-panel {
      display: none;
      flex-direction: column;
      align-items: center;
      background: #002855;
      border: 2px solid #00eaff;
      border-radius: 15px;
      padding: 20px;
      margin: 20px;
      width: 90%;
      max-width: 600px;
    }
    .counter-group {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 10px;
    }
    .counter {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .counter button {
      width: 40px;
      height: 40px;
      font-size: 20px;
      margin: 5px;
      background: #00eaff;
      color: #001d3d;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .counter button:hover {
      background-color: #00b8d4;
    }
    .rolls button {
      margin: 5px;
      font-size: 18px;
      padding: 10px 15px;
      background: #00eaff;
      color: #001d3d;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }
    .rolls button:hover {
      background-color: #00b8d4;
    }
    .rolls div {
      font-size: 24px;
      margin-top: 10px;
    }

      .log {
    margin-top: 15px;
    text-align: left;
    font-size: 14px;
    max-height: 120px;
    overflow-y: auto;
    background-color: rgba(0, 0, 0, 0.3);
    padding: 10px;
    border-radius: 10px;
  }
  .log-entry {
    margin-bottom: 5px;
  }

  .duelist button {
  margin-top: 10px;
  background: #00eaff;
  color: #001d3d;
  padding: 6px 12px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
}
.duelist button:hover {
  background-color: #00b8d4;
}

.entered-amount {
    font-size: 32px;
    margin-bottom: 10px;
    text-align: center;
}
.numpad {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
    margin-bottom: 15px;
}
.numpad button {
    font-size: 24px;
    padding: 15px;
    border-radius: 10px;
    background: #00eaff;
    color: #001d3d;
    border: none;
    cursor: pointer;
}
.numpad button:hover {
    background-color: #00b8d4;
}
.numpad-actions {
    display: flex;
    justify-content: space-between;
    gap: 10px;
}
.numpad-actions button {
    flex-grow: 1;
    padding: 10px;
    font-size: 18px;
    border-radius: 10px;
    background: #00eaff;
    color: #001d3d;
    border: none;
    cursor: pointer;
}
.numpad-actions button:hover {
    background-color: #00b8d4;
}

  </style>
</head>
<body>
  <header>
    <h1 style="display: none;">Yu-Gi-Oh! LP Counter</h1> <!-- ÎšÏÏ…Ï†ÏŒÏ‚ Ï„Î¯Ï„Î»Î¿Ï‚ Î³Î¹Î± screen readers -->
  </header>

  <main class="container">
    <article class="duelist">
  <h2>Duelist 1</h2>
  <div class="lp" id="lp1">8000</div>

  <button onclick="toggleNumpad(1)">Hide Numpad</button>

  <div id="numpadControls1" style="display: none;">
    <div class="controls">
      <div id="enteredAmount1" class="entered-amount">0</div>
      <div class="numpad">
        <button onclick="addToAmount(1, '1')">1</button>
        <button onclick="addToAmount(1, '2')">2</button>
        <button onclick="addToAmount(1, '3')">3</button>
        <button onclick="addToAmount(1, '4')">4</button>
        <button onclick="addToAmount(1, '5')">5</button>
        <button onclick="addToAmount(1, '6')">6</button>
        <button onclick="addToAmount(1, '7')">7</button>
        <button onclick="addToAmount(1, '8')">8</button>
        <button onclick="addToAmount(1, '9')">9</button>
        <button onclick="clearAmount(1)">C</button>
        <button onclick="addToAmount(1, '0')">0</button>
        <button onclick="addToAmount(1, '00')">00</button>
      </div>
      <div class="numpad-actions">
        <button onclick="applyAmount(1, true)">Add (+)</button>
        <button onclick="applyAmount(1, false)">Subtract (âˆ’)</button>
        <button onclick="divideLP(1)">Ã·2</button>
      </div>
    </div>
  </div>

  <button onclick="toggleLog(1)">Show Log</button>
  <div class="log" id="log1" style="display: none;"></div>
</article>

<article class="duelist">
  <h2>Duelist 2</h2>
  <div class="lp" id="lp2">8000</div>

  <button onclick="toggleNumpad(2)">Hide Numpad</button>

  <div id="numpadControls2" style="display: none;">
    <div class="controls">
      <div id="enteredAmount2" class="entered-amount">0</div>
      <div class="numpad">
        <button onclick="addToAmount(2, '1')">1</button>
        <button onclick="addToAmount(2, '2')">2</button>
        <button onclick="addToAmount(2, '3')">3</button>
        <button onclick="addToAmount(2, '4')">4</button>
        <button onclick="addToAmount(2, '5')">5</button>
        <button onclick="addToAmount(2, '6')">6</button>
        <button onclick="addToAmount(2, '7')">7</button>
        <button onclick="addToAmount(2, '8')">8</button>
        <button onclick="addToAmount(2, '9')">9</button>
        <button onclick="clearAmount(2)">C</button>
        <button onclick="addToAmount(2, '0')">0</button>
        <button onclick="addToAmount(2, '00')">00</button>
      </div>
      <div class="numpad-actions">
        <button onclick="applyAmount(2, true)">Add (+)</button>
        <button onclick="applyAmount(2, false)">Subtract (âˆ’)</button>
        <button onclick="divideLP(2)">Ã·2</button>
      </div>
    </div>
  </div>

  <button onclick="toggleLog(2)">Show Log</button>
  <div class="log" id="log2" style="display: none;"></div>
</article>
  </main>

  <section class="center-panel">
    <div class="timer-display" id="timer">00:00</div>
    <div class="actions">
      <button onclick="startTimer()">Start</button>
      <button onclick="pauseTimer()">Pause</button>
      <button onclick="resetTimer()">Reset</button>
    </div>
  </section>

  <section class="tools-panel" id="toolsPanel">
    <div class="counter-group">
      <!-- Counters -->
      <div class="counter">
        <button onclick="updateCounter(0, -1)">âˆ’</button>
        <div id="counter0">0</div>
        <button onclick="updateCounter(0, 1)">+</button>
      </div>
      <div class="counter">
        <button onclick="updateCounter(1, -1)">âˆ’</button>
        <div id="counter1">0</div>
        <button onclick="updateCounter(1, 1)">+</button>
      </div>
      <div class="counter">
        <button onclick="updateCounter(2, -1)">âˆ’</button>
        <div id="counter2">0</div>
        <button onclick="updateCounter(2, 1)">+</button>
      </div>
      <div class="counter">
        <button onclick="updateCounter(3, -1)">âˆ’</button>
        <div id="counter3">0</div>
        <button onclick="updateCounter(3, 1)">+</button>
      </div>
    </div>
    <div class="rolls">
      <button onclick="rollDice()">ðŸŽ² Roll Dice</button>
      <button onclick="flipCoin()">ðŸª™ Flip Coin</button>
      <div id="rollResult">Ready</div>
    </div>
  </section>

<footer class="bottom-icons">
    <div class="icon" onclick="toggleTools()">
      <img src="https://img.icons8.com/ios-filled/50/00eaff/dice.png" alt="Open tools"/>
      <span>Tools</span>
    </div>
    <div class="icon" onclick="confirmResetAll()">
      <img src="https://img.icons8.com/ios-filled/50/e82d2d/delete-sign.png" alt="Reset All"/>
      <span style="color: #e82d2d;">Reset ÎŒÎ»Ï‰Î½</span>
    </div>
</footer>

  <!--<audio id="clickSound" src="https://www.soundjay.com/buttons/sounds/button-16.mp3"></audio>-->
  <script>
    let lp1 = 8000;
    let lp2 = 8000;
    let seconds = 0;
    let timerInterval;
    const counters = [0, 0, 0, 0];

    function playSound() {
      const sound = document.getElementById("clickSound");
      sound.currentTime = 0;
      sound.play();
    }

    function animateLP(id) {
      const el = document.getElementById(id);
      el.classList.add("animate");
      setTimeout(() => el.classList.remove("animate"), 300);
    }

    function updateLPColor(id, val) {
      if (val <= 2000) {
        document.getElementById(id).style.color = "#ff4d4d";
        return;
      }else if (val <= 4000) {
        document.getElementById(id).style.color = "#ffb84d";
        return;
      }else if (val > 4000) {
        document.getElementById(id).style.color = "#00eaff";
        return;
      }
     /* document.getElementById(id).style.color = val <= 2000 ? "#ff4d4d" : "#00eaff";
      document.getElementById(id).style.color = val <= 20 ? "#FF4DED" : "#00eaff";*/
    }

    function changeLP(player, isAdd) {
      const input = document.getElementById(`amount${player}`);
      const value = parseInt(input.value) || 0;
      const change = isAdd ? value : -value;
      if (player === 1) {
        lp1 = Math.max(0, lp1 + change);
        document.getElementById("lp1").textContent = lp1;
        updateLPColor("lp1", lp1);
        animateLP("lp1");
      } else {
        lp2 = Math.max(0, lp2 + change);
        document.getElementById("lp2").textContent = lp2;
        updateLPColor("lp2", lp2);
        animateLP("lp2");
      }
      playSound();
      saveState();
    }

    function resetLP(player) {
      if (player === 1) {
        lp1 = 8000;
        document.getElementById("lp1").textContent = lp1;
        updateLPColor("lp1", lp1);
        animateLP("lp1");
      } else {
        lp2 = 8000;
        document.getElementById("lp2").textContent = lp2;
        updateLPColor("lp2", lp2);
        animateLP("lp2");
      }
      playSound();
      saveState();
    }

    function startTimer() {
      if (timerInterval) return;
      timerInterval = setInterval(() => {
        seconds++;
        updateTimerDisplay();
        saveState();
      }, 1000);
    }

    function pauseTimer() {
      clearInterval(timerInterval);
      timerInterval = null;
    }

    function resetTimer() {
      pauseTimer();
      seconds = 0;
      updateTimerDisplay();
      saveState();
    }

    function updateTimerDisplay() {
      const mins = String(Math.floor(seconds / 60)).padStart(2, '0');
      const secs = String(seconds % 60).padStart(2, '0');
      document.getElementById("timer").textContent = `${mins}:${secs}`;
    }

    function updateCounter(i, delta) {
      counters[i] += delta;
      if (counters[i] < 0) counters[i] = 0;
      document.getElementById(`counter${i}`).textContent = counters[i];
      playSound();
      saveState();
    }

    function rollDice() {
      document.getElementById("rollResult").textContent = `Rolled: ${Math.floor(Math.random() * 6) + 1}`;
      playSound();
    }

    function flipCoin() {
      document.getElementById("rollResult").textContent = `Coin: ${Math.random() < 0.5 ? 'Heads' : 'Tails'}`;
      playSound();
    }

    function toggleTools() {
      const panel = document.getElementById("toolsPanel");
      panel.style.display = panel.style.display === "flex" ? "none" : "flex";
    }

    function hideTools() {
      document.getElementById("toolsPanel").style.display = "none";
    }

    function saveState() {
      localStorage.setItem("ygolpState", JSON.stringify({ lp1, lp2, seconds, counters }));
    }

    function loadState() {
      const state = JSON.parse(localStorage.getItem("ygolpState"));
      if (!state) return;
      lp1 = state.lp1 ?? 8000;
      lp2 = state.lp2 ?? 8000;
      seconds = state.seconds ?? 0;
      for (let i = 0; i < counters.length; i++) {
        counters[i] = state.counters?.[i] ?? 0;
        document.getElementById(`counter${i}`).textContent = counters[i];
      }
      document.getElementById("lp1").textContent = lp1;
      document.getElementById("lp2").textContent = lp2;
      updateLPColor("lp1", lp1);
      updateLPColor("lp2", lp2);
      updateTimerDisplay();
    }



function changeLP(player, isAdd) {
    const input = document.getElementById(`amount${player}`);
    const value = parseInt(input.value) || 0;
    const change = isAdd ? value : -value;

    let oldLP = player === 1 ? lp1 : lp2;

    if (player === 1) {
      lp1 = Math.max(0, lp1 + change);
      document.getElementById("lp1").textContent = lp1;
      updateLPColor("lp1", lp1);
      animateLP("lp1");
    } else {
      lp2 = Math.max(0, lp2 + change);
      document.getElementById("lp2").textContent = lp2;
      updateLPColor("lp2", lp2);
      animateLP("lp2");
    }

    const logValue = isAdd ? `+${value}` : `âˆ’${value}`;
    addLogEntry(player, logValue); // âœ… ÎšÎ±Ï„Î±Î³ÏÎ±Ï†Î® Î±Î»Î»Î±Î³Î®Ï‚

    playSound();
    saveState();
  }

  // Î£Ï…Î½Î¬ÏÏ„Î·ÏƒÎ· ÎºÎ±Ï„Î±Î³ÏÎ±Ï†Î® LP log
  function addLogEntry(player, changeText) {
    const log = document.getElementById(`log${player}`);
    const time = new Date().toLocaleTimeString();
    const entry = document.createElement("div");
    entry.className = "log-entry";
    entry.textContent = `[${time}] LP ${changeText}`;
    log.prepend(entry);
  }

  function resetLP(player) {
    if (player === 1) {
      lp1 = 8000;
      document.getElementById("lp1").textContent = lp1;
      updateLPColor("lp1", lp1);
      animateLP("lp1");
    } else {
      lp2 = 8000;
      document.getElementById("lp2").textContent = lp2;
      updateLPColor("lp2", lp2);
      animateLP("lp2");
    }
    playSound();
    saveState();
  }

  function loadState() {
    const state = JSON.parse(localStorage.getItem("ygolpState"));
    if (!state) return;
    lp1 = state.lp1 ?? 8000;
    lp2 = state.lp2 ?? 8000;
    seconds = state.seconds ?? 0;
    for (let i = 0; i < counters.length; i++) {
      counters[i] = state.counters?.[i] ?? 0;
      document.getElementById(`counter${i}`).textContent = counters[i];
    }
    document.getElementById("lp1").textContent = lp1;
    document.getElementById("lp2").textContent = lp2;
    updateLPColor("lp1", lp1);
    updateLPColor("lp2", lp2);
    updateTimerDisplay();
  }

  function toggleLog(player) {
  const log = document.getElementById(`log${player}`);
  const button = log.previousElementSibling; // Ï„Î¿ ÎºÎ¿Ï…Î¼Ï€Î¯ Î²ÏÎ¯ÏƒÎºÎµÏ„Î±Î¹ Î±ÎºÏÎ¹Î²ÏŽÏ‚ Ï€ÏÎ¹Î½
  if (log.style.display === "none") {
    log.style.display = "block";
    button.textContent = "Hide Log";
  } else {
    log.style.display = "none";
    button.textContent = "Show Log";
  }
}

function resetAll() {
  lp1 = 8000;
  lp2 = 8000;
  document.getElementById("lp1").textContent = lp1;
  document.getElementById("lp2").textContent = lp2;
  updateLPColor("lp1", lp1);
  updateLPColor("lp2", lp2);
  animateLP("lp1");
  animateLP("lp2");

  resetTimer();

  // Reset all counters
  for (let i = 0; i < counters.length; i++) {
    counters[i] = 0;
    document.getElementById(`counter${i}`).textContent = counters[i];
  }

  // Clear the logs for both players
  document.getElementById("log1").innerHTML = "";
  document.getElementById("log2").innerHTML = "";

  // Save the new state
  saveState();
}

function confirmResetAll() {
  if (window.confirm("Î•Î¯ÏƒÏ„Îµ ÏƒÎ¯Î³Î¿Ï…ÏÎ¿Î¹ ÏŒÏ„Î¹ Î¸Î­Î»ÎµÏ„Îµ Î½Î± ÎºÎ¬Î½ÎµÏ„Îµ reset ÏŒÎ»Ï‰Î½ Ï„Ï‰Î½ Î¼ÎµÏ„ÏÎ·Ï„ÏŽÎ½; Î— ÎµÎ½Î­ÏÎ³ÎµÎ¹Î± Î±Ï…Ï„Î® Î´ÎµÎ½ Î±Î½Î±Î¹ÏÎµÎ¯Ï„Î±Î¹.")) {
    resetAll();
  }
}


// New global variables to store the entered amount for each player
let enteredAmount1 = '';
let enteredAmount2 = '';

// This is the function that will be called when you click a number button
function addToAmount(player, num) {
  let currentAmount = player === 1 ? enteredAmount1 : enteredAmount2;

  // If a number is already being entered, add the new digit.
  // Otherwise, start a new number.
  if (currentAmount.length > 0) {
   currentAmount += num;
  } else {
   currentAmount = num;
  }

  // Update the correct player's amount
  if (player === 1) {
   enteredAmount1 = currentAmount;
   document.getElementById('enteredAmount1').textContent = enteredAmount1;
  } else {
   enteredAmount2 = currentAmount;
   document.getElementById('enteredAmount2').textContent = enteredAmount2;
  }
}

// This function clears the amount being entered
function clearAmount(player) {
  if (player === 1) {
   enteredAmount1 = '';
   document.getElementById('enteredAmount1').textContent = '0';
  } else {
   enteredAmount2 = '';
   document.getElementById('enteredAmount2').textContent = '0';
  }
}

// This function applies the entered amount to the LP
function applyAmount(player, isAdd) {
  const value = parseInt(player === 1 ? enteredAmount1 : enteredAmount2) || 0;
  const change = isAdd ? value : -value;

  if (player === 1) {
   lp1 = Math.max(0, lp1 + change);
   document.getElementById("lp1").textContent = lp1;
   updateLPColor("lp1", lp1);
   animateLP("lp1");
   addLogEntry(1, isAdd ? `+${value}` : `âˆ’${value}`);
   clearAmount(1); // Clear the number pad after applying
  } else {
   lp2 = Math.max(0, lp2 + change);
   document.getElementById("lp2").textContent = lp2;
   updateLPColor("lp2", lp2);
   animateLP("lp2");
   addLogEntry(2, isAdd ? `+${value}` : `âˆ’${value}`);
   clearAmount(2); // Clear the number pad after applying
  }

  playSound();
  saveState();
}

// Function to toggle the visibility of the numpad
function toggleNumpad(player) {
  const numpad = document.getElementById(`numpadControls${player}`);
  const button = document.querySelector(`.duelist:nth-of-type(${player}) button[onclick="toggleNumpad(${player})"]`);
  
  if (numpad.style.display === "none") {
    numpad.style.display = "block";
    button.textContent = "Hide Numpad";
  } else {
    numpad.style.display = "none";
    button.textContent = "Show Numpad";
  }
}

function divideLP(player) {
  let oldLP;
  let newLP;
  
  if (player === 1) {
    oldLP = lp1;
    newLP = Math.floor(lp1 / 2);
    lp1 = newLP;
    document.getElementById("lp1").textContent = lp1;
    updateLPColor("lp1", lp1);
    animateLP("lp1");
    addLogEntry(1, `Ã·2 (from ${oldLP})`);
  } else {
    oldLP = lp2;
    newLP = Math.floor(lp2 / 2);
    lp2 = newLP;
    document.getElementById("lp2").textContent = lp2;
    updateLPColor("lp2", lp2);
    animateLP("lp2");
    addLogEntry(2, `Ã·2 (from ${oldLP})`);
  }
  
  playSound();
  saveState();
}


window.onload = loadState;
  </script>
</body>
</html>
